@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&family=Great+Vibes&display=swap');

/* ---------- Global ---------- */
* { box-sizing: border-box; }
body { margin: 0; overflow: hidden; font-family: 'Poppins', sans-serif; background: radial-gradient(circle at 50% 30%, #241132 0%, #090010 100%); color: #fff; }
.surprise-container { width: 100vw; height: 100vh; position: relative; display: flex; align-items: center; justify-content: center; }

/* ---------- Slides ---------- */
.slide { position: absolute; inset: 0; display: flex; flex-direction: column; gap: 10px; align-items: center; justify-content: center; padding: 20px; text-align: center; }

/* Sticker */
.sticker { font-size: clamp(4rem, 12vw, 8rem); margin-bottom: 10px; filter: drop-shadow(0 0 25px rgba(255,160,255,0.15)); }

/* Text glow */
.text-glow { font-family: 'Great Vibes', cursive; font-size: clamp(2.2rem, 6vw, 4rem); color: #ffdff6; text-shadow: 0 0 18px rgba(255,150,255,0.35), 0 0 40px rgba(255,60,200,0.12); margin: 0; }
.text-glow.small { font-size: clamp(1.6rem, 3.8vw, 2.2rem); }

/* Sub & hint */
.sub { color: #f4dff3; opacity: 0.85; margin-bottom: 6px; }
.hint-text { color: #dcd0db; opacity: 0.9; font-size: 0.95rem; }

/* Buttons */
.surprise-button, .next-secret-button, .open-gift-button {
  appearance: none; border: none; cursor: pointer;
  padding: 12px 22px; border-radius: 40px; font-weight: 700;
  background: linear-gradient(90deg, #a03bff 0%, #ffb86b 100%);
  color: white; box-shadow: 0 6px 22px rgba(160,59,255,0.18), 0 2px 6px rgba(0,0,0,0.2);
}
.surprise-button:hover, .next-secret-button:hover, .open-gift-button:hover { transform: translateY(-4px); }

/* ---------- Cake: aesthetic ---------- */
.cake-wrapper { position: relative; width: 320px; height: 260px; display:flex; align-items:center; justify-content:center; }
.cake { position: relative; width: 240px; height: 160px; display:flex; align-items:center; justify-content:center; }
.cake-shadow { position: absolute; bottom: -8px; width: 70%; height: 22px; border-radius: 50%; background: radial-gradient(ellipse at center, rgba(0,0,0,0.45), transparent 50%); filter: blur(6px); z-index: 1; }
.cake-top {
  position: absolute; top: 18px; width: 200px; height: 80px; border-radius: 50%/35%;
  background: linear-gradient(180deg, #fff6fb 0%, #ffd9f5 60%);
  box-shadow: 0 8px 20px rgba(0,0,0,0.18), inset 0 -6px 18px rgba(0,0,0,0.06);
  z-index: 6; overflow: visible;
}

/* icing drip - smooth clip-path */
.icing {
  position: absolute; top: -6px; left: 0; right: 0; height: 36px;
  background: linear-gradient(180deg, #fff 0%, #ffe8fb 60%);
  border-radius: 50% 50% 40% 40% / 60% 60% 30% 30%;
  box-shadow: inset 0 -4px 10px rgba(0,0,0,0.04);
  clip-path: path('M0,20 C20,0 80,0 120,20 C160,40 200,0 240,20 L240,56 L0,56 Z');
}

/* subtle sprinkles (decorative pseudo) */
.sprinkles::after {
  content: '';
  position: absolute;
  top: 8px; left: 10%; width: 80%;
  height: 28px; background-image:
    radial-gradient(circle at 10% 20%, #f98 3px, transparent 3px),
    radial-gradient(circle at 30% 60%, #9cf 3px, transparent 3px),
    radial-gradient(circle at 55% 30%, #ffd 3px, transparent 3px),
    radial-gradient(circle at 80% 50%, #f6c 3px, transparent 3px);
  opacity: 0.95;
}

/* cake body */
.cake-body {
  position: absolute; bottom: 0; width: 220px; height: 86px; border-radius: 22px; z-index: 4;
  background: linear-gradient(180deg, #f7d6d6 0%, #eaa3a7 100%);
  box-shadow: inset 0 -8px 20px rgba(0,0,0,0.08);
}

/* candle */
.candle { position: absolute; top: -26px; left: 50%; transform: translateX(-50%); z-index: 12; cursor: pointer; display:flex; align-items:flex-start; flex-direction:column; gap:6px; }
.candle-base { width: 14px; height: 44px; border-radius: 6px; background: linear-gradient(180deg, #ffffff, #ffdff6); box-shadow: 0 3px 12px rgba(255,140,200,0.12); }
.flame { width: 12px; height: 12px; border-radius: 50%; margin-bottom: -6px; opacity: 0; transform-origin: 50% 60%; }
.flame.lit { opacity: 1; animation: flameFlicker 0.22s infinite alternate ease-in-out; background: radial-gradient(circle, #fff59a 10%, #ffb347 60%, transparent 100%); box-shadow: 0 0 18px rgba(255,180,90,0.9); }

/* hearts that float up when candle lit */
.hearts { position: absolute; top: 10px; left: 50%; transform: translateX(-50%); pointer-events: none; z-index: 20; display:flex; gap:12px; }
.heart { font-size: 1.6rem; opacity: 0.95; filter: drop-shadow(0 4px 12px rgba(255, 100, 180, 0.18)); animation: heartFloat 2.6s ease-in-out infinite; }
.heart.h2 { animation-delay: 0.25s; transform-origin: center; }
.heart.h3 { animation-delay: 0.6s; transform-origin: center; }
@keyframes heartFloat {
  0% { transform: translateY(0) scale(1); opacity: 1; }
  50% { transform: translateY(-26px) scale(1.05); opacity: 0.9; }
  100% { transform: translateY(-54px) scale(0.95); opacity: 0; }
}

/* flame flicker */
@keyframes flameFlicker {
  0% { transform: translateY(0) scale(1); filter: drop-shadow(0 0 6px rgba(255,200,0,0.6)); }
  100% { transform: translateY(-2px) scale(1.12); filter: drop-shadow(0 0 18px rgba(255,220,120,0.95)); }
}

/* sparkles around cake (subtle particles) */
.sparkles { position:absolute; width: 320px; height: 220px; top: 0; left: 50%; transform: translateX(-50%); pointer-events: none; z-index: 2; background-image:
  radial-gradient(circle at 10% 10%, rgba(255,255,255,0.9) 2px, transparent 3px),
  radial-gradient(circle at 30% 60%, rgba(255,220,255,0.8) 2px, transparent 3px),
  radial-gradient(circle at 70% 20%, rgba(200,255,255,0.7) 2px, transparent 3px);
  opacity: 0.65;
  animation: twinkle 6s linear infinite;
}
@keyframes twinkle { 0% { opacity: .6 } 50% { opacity: .95 } 100% { opacity: .6 } }

/* ---------- Balloons ---------- */
.balloon-area { display:flex; gap:18px; margin-top: 10px; justify-content:center; flex-wrap:wrap; padding: 12px; }
.balloon { width: 78px; height: 98px; display:flex; align-items:center; justify-content:center; border-radius: 50% / 62% 62% 38% 38%; font-weight:800; font-size:1.6rem; color:#fff; cursor:pointer; box-shadow: inset -8px -10px 20px rgba(0,0,0,0.12), 0 12px 24px rgba(0,0,0,0.18); text-shadow: 0 1px 0 rgba(0,0,0,0.2); }
.balloon.red { background: linear-gradient(180deg,#ff6b6b,#ff9a8b); }
.balloon.blue { background: linear-gradient(180deg,#2fb8ff,#9be7ff); }
.balloon.yellow { background: linear-gradient(180deg,#ffd76b,#fff4a8); color:#243124; }
.balloon.pink { background: linear-gradient(180deg,#f48fb1,#ffccd7); }
.balloon.floating-pop { animation: balloonFloat 3s ease-in-out infinite alternate; }
.balloon.popped { background: transparent; box-shadow: none; font-size:1.4rem; transform: scale(1); }
@keyframes balloonFloat { 0% { transform: translateY(0) } 100% { transform: translateY(-14px) } }

/* secret message card */
.secret-message { margin-top: 18px; background: linear-gradient(180deg,#ffffff,#fff0fb); color:#331133; padding: 18px 20px; border-radius: 14px; box-shadow: 0 10px 30px rgba(180,90,200,0.12); border: 3px solid rgba(255,170,255,0.35); font-weight:700; }

/* ---------- Gift Box ---------- */
.gift-area { margin-top: 14px; display:flex; align-items:center; justify-content:center; gap: 18px; flex-direction: column; }
.gift-box { position: relative; width: 170px; height: 130px; display:flex; align-items:flex-start; justify-content:center; }
.gift-body {
  position: absolute; bottom: 0; width: 100%; height: 82px; border-radius: 8px; background: linear-gradient(180deg,#ffb3da,#ff79b0); z-index: 6;
  box-shadow: 0 12px 30px rgba(0,0,0,0.18);
}
.gift-lid {
  position: absolute; top: -8px; left: 0; width: 100%; height: 54px; border-radius: 8px; background: linear-gradient(180deg,#ffe7ff,#ffb3ff); z-index: 8; transform-origin: 50% 100%; transition: transform 0.6s cubic-bezier(.2,.9,.2,1);
  box-shadow: 0 8px 20px rgba(0,0,0,0.12);
}
.gift-lid.open { transform: rotateX(70deg) translateY(-18px); }

/* gift ribbon */
.gift-body::before { content: ''; position:absolute; left: 50%; transform: translateX(-50%); top: 6px; width: 22px; height: 80px; background: linear-gradient(180deg,#fff3, #ffffff55); border-radius: 4px; z-index:7; }
.gift-lid::after { content: ''; position:absolute; left: 50%; transform: translateX(-50%); top: 10px; width: 60px; height: 12px; border-radius: 6px; background: linear-gradient(90deg,#fff6,#ffffff55); z-index:9; }

/* open button */
.open-gift-button { margin-top: 8px; background: linear-gradient(90deg,#ffb86b,#ff6bb2); padding: 10px 16px; border-radius: 20px; color:#fff; font-weight:700; }

/* confetti (small squares) */
.confetti-container { position: absolute; top: -160px; left: 50%; transform: translateX(-50%); width: 320px; height: 300px; pointer-events:none; z-index: 30; overflow: visible; }
.conf { position: absolute; width: 12px; height: 12px; opacity: 0; transform: translateY(-20px); animation: confFall 1.4s linear forwards; }
.c1 { background:#ffd166; left:10%; animation-delay: 0s; }
.c2 { background:#ff6b6b; left:25%; animation-delay: 0.05s; }
.c3 { background:#8ecae6; left:40%; animation-delay: 0.12s; }
.c4 { background:#a0e7a0; left:55%; animation-delay: 0.08s; }
.c5 { background:#f48fb1; left:72%; animation-delay: 0.02s; }
.c6 { background:#cdb4db; left:86%; animation-delay: 0.11s; }
@keyframes confFall {
  0% { transform: translateY(-40px) rotate(0deg); opacity: 1; }
  60% { opacity: 1; transform: translateY(90px) rotate(160deg); }
  100% { transform: translateY(220px) rotate(320deg); opacity: 0; }
}

/* final card */
.final-card-message { margin-top: 10px; width: min(640px, 86vw); background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); padding: 18px; border-radius: 14px; border: 1px solid rgba(255,255,255,0.06); box-shadow: 0 10px 40px rgba(160,50,200,0.08); color: #fff; }
.final-card-message p { margin: 8px 0 14px; line-height: 1.6; font-weight:600; }
.signature { text-align: right; color: #ffd6f6; font-weight:900; }

/* ---------- Responsive ---------- */
@media (max-width: 520px) {
  .cake-wrapper { width: 260px; height: 200px; }
  .cake { width: 200px; height: 140px; }
  .gift-box { width: 140px; height: 110px; }
  .conf { width: 10px; height: 10px; }
  .balloon { width: 68px; height: 88px; font-size: 1.4rem; }
}
